(this["webpackJsonpburger-queen-api-client-tmp"]=this["webpackJsonpburger-queen-api-client-tmp"]||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(20),s=n.n(r),i=(n(50),n(51),n(14)),o=n(11),l=n(3),u=n.n(l),d=n(7),j=n(9),b=n.p+"static/media/burger.a68e60d4.png",m=n(33),p=n(23),h=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.post("https://burger-queen-api-yrem.herokuapp.com/auth",t);case 2:n=e.sent,e.t0=n.status,e.next=200===e.t0?6:400===e.t0?9:10;break;case 6:return localStorage.setItem("token",n.data.token),a=p.default(n.data.token),e.abrupt("return",a);case 9:throw new Error("Inserta un email y contrase\xf1a correctos");case 10:throw new Error(n.statusText);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=n(0),f=function(){var e=c.a.useState(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=c.a.useState(""),s=Object(j.a)(r,2),i=s[0],l=s[1],m={email:n,password:i},p=Object(o.f)(),f=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h(m);case 4:n=e.sent,O(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),O=function(e){!0===e.roles.admin?p.push("/admin/usuarios"):"chef@bq.com"===e.email?p.push("/pedidos/cocina"):p.push("/pedidos/hacer-pedidos")};return Object(x.jsx)("main",{className:"vw-100 vh-100 bg-light d-flex align-items-center",children:Object(x.jsxs)("section",{className:"container row d-flex align-items-center mx-auto text-dark flexWrap",children:[Object(x.jsx)("figure",{className:"col text-center mt-3",children:Object(x.jsx)("img",{src:b,className:"img-fluid",alt:"burger",width:"70%"})}),Object(x.jsxs)("form",{className:"col text-center my-3 px-4",onSubmit:function(e){return f(e)},children:[Object(x.jsx)("h1",{children:" BURGER QUEEN "}),Object(x.jsx)("h6",{className:"mt-5 mb-4",children:"Por favor, ingrese sus datos"}),Object(x.jsx)("div",{className:"mb-3 px-3 mb-lg-4 px-lg-5",children:Object(x.jsx)("input",{type:"email",className:"form-control",placeholder:"E-mail","aria-describedby":"email",value:n,onChange:function(e){return a(e.target.value)}})}),Object(x.jsx)("div",{className:"mb-3 px-3 mb-lg-4 px-lg-5",children:Object(x.jsx)("input",{type:"password",className:"form-control",placeholder:"Contrase\xf1a",value:i,onChange:function(e){return l(e.target.value)}})}),Object(x.jsx)("button",{type:"submit",className:"btn btn-danger",children:"Acceder"})]})]})})},O=n(45),v=n(10),g=n(33),N=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g({method:"get",url:"https://burger-queen-api-yrem.herokuapp.com/".concat(n,"?limit=20&page=1"),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 2:if(200!==(a=e.sent).status){e.next=7;break}return e.abrupt("return",a.data);case 7:throw new Error;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(u.a.mark((function e(t,n,a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g({method:"post",url:"https://burger-queen-api-yrem.herokuapp.com/".concat(n),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:a});case 2:if(200!==(c=e.sent).status){e.next=7;break}return e.abrupt("return",c.data);case 7:throw new Error;case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(d.a)(u.a.mark((function e(t,n,a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g({method:"put",url:"https://burger-queen-api-yrem.herokuapp.com/".concat(n,"/").concat(a._id),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:a});case 2:if(200!==(c=e.sent).status){e.next=7;break}return e.abrupt("return",c.data);case 7:throw new Error;case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(u.a.mark((function e(t,n,a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g({method:"delete",url:"https://burger-queen-api-yrem.herokuapp.com/".concat(n,"/").concat(a._id),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 2:if(200!==(c=e.sent).status){e.next=7;break}return e.abrupt("return",c.data);case 7:throw new Error;case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),C=function(e){var t=e.product,n=e.chosenProduct,a=e.state,c=e.handleQty;return Object(x.jsxs)("div",{className:"card cardsWidth m-2",children:[Object(x.jsx)("img",{src:t.image,className:"card-img-top imgCardSize",alt:""}),Object(x.jsxs)("div",{className:"card-body p-1 text-center",children:[Object(x.jsx)("p",{className:"m-auto fw-bold",children:t.name}),Object(x.jsxs)("p",{className:"m-auto",children:["S/. ",t.price]})]}),Object(x.jsx)("button",{className:"btn btn-danger p-1 m-1",onClick:function(){return e=t._id,a.products.find((function(t){return t.product._id===e}))?c(e,"+"):n({product:Object(v.a)({},t),qty:1});var e},children:"Agregar"})]})},S=function(e){var t=e.chosenProduct,n=e.state,a=e.handleQty,r=c.a.useState([]),s=Object(j.a)(r,2),i=s[0],o=s[1],l=c.a.useState([]),b=Object(j.a)(l,2),m=b[0],p=b[1],h=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,N(t,"products");case 4:n=e.sent,o(n),a=n.filter((function(e){return"Desayuno"===e.type})),p(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();c.a.useEffect((function(){h()}),[]);var f=function(e){switch(e){case"Desayuno":var t=i.filter((function(t){return t.type===e}));return p(t);case"Hamburguesas":var n=i.filter((function(t){return t.type===e}));return p(n);case"Acompa\xf1amientos":var a=i.filter((function(t){return t.type===e}));return p(a);case"Bebidas":var c=i.filter((function(t){return t.type===e}));return p(c)}};return Object(x.jsxs)("section",{className:"containerProd",children:[Object(x.jsxs)("nav",{children:[Object(x.jsxs)("ul",{className:"nav d-flex justify-content-around",children:[Object(x.jsx)("li",{className:"btn me-1 px-2",onClick:function(){return f("Desayuno")},children:"Desayuno"}),Object(x.jsx)("li",{className:"btn me-1 px-2",onClick:function(){return f("Hamburguesas")},children:"Hamburguesas"}),Object(x.jsx)("li",{className:"btn me-1 px-2",onClick:function(){return f("Acompa\xf1amientos")},children:"Acompa\xf1amientos"}),Object(x.jsx)("li",{className:"btn px-2",onClick:function(){return f("Bebidas")},children:"Bebidas"})]}),Object(x.jsx)("hr",{className:"m-0"})]}),Object(x.jsx)("article",{className:"d-flex flexWrap m-1 px-1",children:m.map((function(e){return Object(x.jsx)(C,{product:e,chosenProduct:t,state:n,handleQty:a},e._id)}))})]})},E=n(18),q=function(e){var t=e.products,n=e.handleQty,a=e.handleRemove,c=function(e,t,a){e.preventDefault(),n(t.product._id,a)};return Object(x.jsx)(x.Fragment,{children:t.map((function(e){return Object(x.jsxs)("section",{className:"d-flex justify-content-between fontSummary",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{className:"mb-1",children:e.product.name}),Object(x.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[Object(x.jsx)("button",{type:"button",className:"btn btn-light btn-outline-secondary p-1 mx-1",onClick:function(t){return c(t,e,"-")},children:"-"}),Object(x.jsx)("p",{className:"mb-1",children:e.qty}),Object(x.jsx)("button",{type:"button",className:"btn btn-light btn-outline-secondary mx-1 p-1",onClick:function(t){return c(t,e,"+")},children:"+"}),Object(x.jsx)("button",{type:"button",className:"btn btn-light btn-outline-secondary p-1",onClick:function(t){a(t,e.product._id)},children:"\ud83d\uddd1"})]})]}),Object(x.jsxs)("p",{className:"mb-0",children:["S/. ",e.product.price*e.qty]})]},e.product._id)}))})},I=n(81),P=function(e){var t=e.show,n=e.handleClose;return Object(x.jsxs)(I.a,{show:t,onHide:n,animation:!1,size:"sm",children:[Object(x.jsx)(I.a.Header,{closeButton:!0,children:Object(x.jsx)(I.a.Title,{children:"Pedido enviado"})}),Object(x.jsx)(I.a.Body,{className:"px-3 py-4",children:"Tu pedido se envi\xf3 con \xe9xito"})]})},A=n(23),_=function(e){var t,n=e.state,a=e.setState,r=e.handleQty,s=e.initialValues,i=e.handleRemove,o={userId:function(){var e=localStorage.getItem("token");return A.default(e).uid}(),client:n.client,products:n.products.map((function(e){return{productId:e.product._id,qty:e.qty}}))},l=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,y(t,"orders",o);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=c.a.useState(!1),m=Object(j.a)(b,2),p=m[0],h=m[1];return Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),l(),a(s),h(!0)},className:" containerSize my-1 pe-2 ms-lg-3 ",children:[Object(x.jsx)("h4",{className:"w-100 text-center",children:"Resumen del pedido"}),Object(x.jsxs)("section",{className:"mb-3 mt-3 d-flex align-items-center",children:[Object(x.jsx)("label",{htmlFor:"clientName",className:"form-label mb-1",children:"Cliente:\xa0"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"clientName","aria-describedby":"clientName",name:"client",onChange:function(e){var t=e.target,c=t.name,r=t.value;a(Object(v.a)(Object(v.a)({},n),{},Object(E.a)({},c,r)))},value:n.client,required:!0})]}),Object(x.jsxs)("section",{children:[Object(x.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(x.jsx)("h6",{children:Object(x.jsx)("u",{children:"Productos"})}),Object(x.jsx)("h6",{children:Object(x.jsx)("u",{children:"Precio"})})]}),Object(x.jsxs)("aside",{children:[Object(x.jsx)(q,{products:n.products,handleQty:r,handleRemove:i}),n.products.length>0?Object(x.jsxs)("h6",{className:"mt-3",children:["Total:\xa0\xa0\xa0S/. ",(t=n.products,t.reduce((function(e,t){return e+t.product.price*t.qty}),0))]}):Object(x.jsx)("p",{className:"m-md-3 m-lg-5 text-center",children:Object(x.jsx)("em",{children:"No has agregado ning\xfan producto"})})]})]}),Object(x.jsx)("div",{children:n.products.length>0?Object(x.jsxs)("div",{className:"d-flex justify-content-around mt-3",children:[Object(x.jsx)("button",{className:"btn btn-secondary",onClick:function(e){e.preventDefault(),a(s)},children:"Borrar orden"}),Object(x.jsx)("button",{className:"btn btn-danger",children:"Enviar a cocina"})]}):""}),Object(x.jsx)(P,{show:p,handleClose:function(){return h(!1)}})]})},B=function(){var e={client:"",products:[]},t=c.a.useState(e),n=Object(j.a)(t,2),a=n[0],r=n[1],s=function(e,t){var n=a.products.map((function(n){if(n.product._id===e){if("+"===t)return{product:Object(v.a)({},n.product),qty:n.qty+1};if("-"===t&&n.qty>1)return{product:Object(v.a)({},n.product),qty:n.qty-1}}return n}));r((function(e){return Object(v.a)(Object(v.a)({},e),{},{products:n})}))};return Object(x.jsxs)("section",{className:"container-field p-2 w-100 d-flex justify-content-around ",children:[Object(x.jsx)(S,{chosenProduct:function(e){r((function(t){return Object(v.a)(Object(v.a)({},t),{},{products:[].concat(Object(O.a)(t.products),[e])})}))},state:a,handleQty:s}),Object(x.jsx)("p",{className:"hr-style"}),Object(x.jsx)(_,{state:a,setState:r,handleQty:s,handleRemove:function(e,t){e.preventDefault();var n=a.products.filter((function(e){return e.product._id!==t}));r((function(e){return Object(v.a)(Object(v.a)({},e),{},{products:n})}))},initialValues:e})]})},D=n(22),V=n.n(D),H=n(23),T=function(e){var t=e.order,n=e.getOrders,a=localStorage.getItem("token"),c=function(){var e=Object(d.a)(u.a.mark((function e(c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.status=c,"delivered"===t.status&&(t.dateProcessed=new Date),e.next=4,w(a,"orders",t);case 4:return e.next=6,n();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(a,"orders",t);case 2:return e.next=4,n();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("aside",{className:"card ordersWidth m-3 py-2",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:"card-body p-1 my-1 text-center",children:Object(x.jsxs)("h6",{className:"m-auto",children:["Cliente: ",t.client]})}),Object(x.jsxs)("div",{className:"card-body p-2",children:[Object(x.jsxs)("p",{className:"fw-bold mb-0",children:[Object(x.jsx)("strong",{children:"Estado:"})," ",t.status]}),Object(x.jsxs)("p",{className:"fw-bold mb-0",children:[Object(x.jsx)("strong",{children:"Inicio:"})," ",V()(t.dateEntry).format("lll")]}),"delivered"===t.status?Object(x.jsxs)("p",{className:"fw-bold mb-0",children:[Object(x.jsx)("strong",{children:"Fin:"})," ",V()(t.dateProcessed).format("lll")]}):Object(x.jsx)(x.Fragment,{})]})]}),Object(x.jsx)("hr",{}),Object(x.jsx)("div",{className:"card-body p-2",children:t.products?t.products.map((function(e){return Object(x.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(x.jsxs)("p",{children:[e.qty,"\xa0",e.product.name]}),Object(x.jsxs)("p",{children:["S/.",e.product.price]})]},e.product._id)})):Object(x.jsx)(x.Fragment,{})}),Object(x.jsx)("div",{className:"d-flex text-center w-100",children:"delivered"===t.status||"canceled"===t.status?Object(x.jsx)("button",{className:"btn btn-secondary p-1 w-75 m-auto",onClick:function(){return r(t)},children:"Eliminar"}):"pending"===t.status?"chef@bq.com"===H.default(a).email?Object(x.jsx)("button",{className:"btn btn-danger p-1 m-auto w-75",onClick:function(){return c("delivering")},children:"Orden lista"}):Object(x.jsx)("button",{className:"btn btn-secondary p-1 m-auto disabled w-75",children:"Preparando"}):Object(x.jsx)("button",{className:"btn btn-danger p-1 w-75 m-auto",onClick:function(){return c("delivered")},children:"Entregar"})})]})},F=function(){var e=c.a.useState([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,N(t,"orders");case 4:n=e.sent,a(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){r()}),[]),Object(x.jsx)("div",{className:"container-field d-flex flexWrap p-2 w-100",children:n.filter((function(e){return"pending"===e.status||"delivering"===e.status})).map((function(e,t){return Object(x.jsx)(T,{order:e,getOrders:r},t)}))})},L=function(){var e=c.a.useState([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,N(t,"orders");case 4:n=e.sent,a(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){r()}),[]),Object(x.jsx)("div",{className:"container-field d-flex flexWrap p-2 w-100",children:n.filter((function(e){return"delivered"===e.status||"canceled"===e.status})).map((function(e,t){return Object(x.jsx)(T,{order:e,getOrders:r},t)}))})},Q=function(){var e=c.a.useState([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,N(t,"orders");case 4:n=e.sent,a(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){r()}),[]),Object(x.jsx)("div",{className:"container-field d-flex flexWrap p-2 w-100",children:n.filter((function(e){return"pending"===e.status})).map((function(e,t){return Object(x.jsx)(T,{order:e,getOrders:r},t)}))})},z=n(23),G=function(){var e=Object(o.g)(),t=e.path,n=e.url,a=function(){var e=localStorage.getItem("token");return z.default(e).email};return Object(x.jsxs)("div",{children:[Object(x.jsxs)("nav",{className:"navbar-expand-md justify-content-between navbar-light bg-danger d-flex mb-1",children:[Object(x.jsx)("img",{className:"me-auto ms-lg-2 mt-lg-2 ms-md-1 mt-md-1",src:b,alt:"burger",width:"40",height:"34"}),Object(x.jsxs)("ul",{className:"nav nav-tabs justify-content-end p-0.5",children:["chef@bq.com"!==a()?Object(x.jsx)("li",{className:"nav-item p-lg-1",children:Object(x.jsx)(i.b,{to:"".concat(n,"/hacer-pedidos"),className:"nav-link","aria-current":"page",children:"Hacer pedido"})}):null,"chef@bq.com"===a()?Object(x.jsx)("li",{className:"nav-item p-lg-1",children:Object(x.jsx)(i.b,{to:"".concat(n,"/cocina"),className:"nav-link",children:"Cocina"})}):null,"chef@bq.com"!==a()?Object(x.jsx)("li",{className:"nav-item p-lg-1",children:Object(x.jsx)(i.b,{to:"".concat(n,"/estado"),className:"nav-link",children:"Estado"})}):null,Object(x.jsx)("li",{className:"nav-item p-lg-1",children:Object(x.jsx)(i.b,{to:"".concat(n,"/historial"),className:"nav-link",children:"Historial"})}),Object(x.jsx)("li",{className:"nav-item p-lg-1",children:Object(x.jsx)(i.b,{exact:!0,to:"/",className:"nav-link",children:"Salir"})})]})]}),Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{exact:!0,path:t,children:Object(x.jsx)(B,{})}),Object(x.jsx)(o.a,{exact:!0,path:"".concat(t,"/hacer-pedidos"),children:Object(x.jsx)(B,{})}),Object(x.jsx)(o.a,{exact:!0,path:"".concat(t,"/cocina"),children:Object(x.jsx)(Q,{})}),Object(x.jsx)(o.a,{exact:!0,path:"".concat(t,"/estado"),children:Object(x.jsx)(F,{})}),Object(x.jsx)(o.a,{exact:!0,path:"".concat(t,"/historial"),children:Object(x.jsx)(L,{})})]})]})},M=function(e){var t=e.product,n=e.deleteProducts,a=e.updateProducts;return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t.name}),Object(x.jsx)("td",{children:t.type}),Object(x.jsx)("td",{className:"text-center",children:t.price}),Object(x.jsx)("td",{className:"text-center",children:V()(t.dateEntry).format("lll")}),Object(x.jsx)("td",{className:"btn ms-2",onClick:function(){return n(t)},children:"\ud83d\uddd1"}),Object(x.jsx)("td",{className:"btn ms-1",onClick:function(){return a(t)},children:"\u270f"})]})},R=n(82),W=function(e){var t=function(){var t=Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("token"),t.next=3,y(n,"products",e.values);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:return t.next=4,e.getProducts();case 4:e.handleClose(),e.setValues(e.initialValues);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsxs)(I.a,{show:e.show,onHide:e.handleClose,animation:!1,children:[Object(x.jsx)(I.a.Header,{children:Object(x.jsx)(I.a.Title,{children:e.values._id?"Editar producto":"Nuevo producto"})}),Object(x.jsx)(I.a.Body,{className:"px-3 py-4",children:Object(x.jsxs)(R.a,{children:[Object(x.jsxs)(R.a.Group,{className:"mb-3 d-inline-flex align-items-center w-100",children:[Object(x.jsx)(R.a.Label,{className:"mx-1 mb-1",children:"Nombre: "}),Object(x.jsx)(R.a.Control,{className:"mx-1",type:"text",name:"name",value:e.values.name,onChange:e.handleChange})]}),Object(x.jsxs)(R.a.Group,{className:"mb-3 d-inline-flex align-items-center w-100",children:[Object(x.jsx)(R.a.Label,{className:"mx-1 mb-1",children:"Precio: "}),Object(x.jsx)(R.a.Control,{className:"mx-1",type:"number",min:"0",name:"price",value:e.values.price,onChange:e.handleChange}),Object(x.jsx)(R.a.Label,{className:"mx-1 mb-1",children:"Tipo: "}),Object(x.jsxs)(R.a.Control,{as:"select",name:"type",onChange:e.handleChange,className:"mx-1",children:[Object(x.jsx)("option",{children:"Seleccionar"}),Object(x.jsx)("option",{value:"Desayuno",children:"Desayuno"}),Object(x.jsx)("option",{value:"Hamburguesas",children:"Hamburguesa"}),Object(x.jsx)("option",{value:"Acompa\xf1amientos",children:"Acompa\xf1amiento"}),Object(x.jsx)("option",{value:"Bebidas",children:"Bebida"})]})]}),Object(x.jsxs)(R.a.Group,{className:"mb-3 d-inline-flex align-items-center w-100",children:[Object(x.jsx)(R.a.Label,{className:"mx-1 mb-1",children:"Imagen: "}),Object(x.jsx)(R.a.Control,{className:"mx-1",type:"text",name:"image",value:e.values.image,onChange:e.handleChange})]})]})}),Object(x.jsxs)(I.a.Footer,{children:[Object(x.jsx)("button",{className:"btn btn-secondary",onClick:function(){e.handleClose(),e.setValues(e.initialValues)},children:"Descartar"}),e.values._id?Object(x.jsx)("button",{className:"btn btn-danger",onClick:function(){return n(e.saveModal(e.values))},children:"Modificar"}):Object(x.jsx)("button",{className:"btn btn-danger",onClick:function(){return n(t())},children:"Crear"})]})]})},U=function(){var e=c.a.useState([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,N(t,"products");case 4:n=e.sent,a(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();c.a.useEffect((function(){r()}),[]);var s=c.a.useState(!1),i=Object(j.a)(s,2),o=i[0],l=i[1],b=function(){return l(!0)},m={name:"",price:"",image:"",type:""},p=c.a.useState(m),h=Object(j.a)(p,2),f=h[0],O=h[1],g=function(e){b(),O(e)},y=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("token"),e.next=4,w(n,"products",t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("token"),e.next=4,k(n,"products",t);case 4:return e.next=6,r();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("section",{className:"container-fluid p-3 w-100 col",children:[Object(x.jsx)("h3",{className:"w-100 text-center ",children:"Lista de productos"}),Object(x.jsxs)("div",{className:"d-flex w-100 justify-content-end",children:[Object(x.jsx)("button",{className:"btn btn-danger",onClick:b,children:"Agregar producto"}),Object(x.jsx)(W,{initialValues:m,values:f,setValues:O,handleChange:function(e){var t=e.target,n=t.name,a=t.value;O("price"===n?Object(v.a)(Object(v.a)({},f),{},Object(E.a)({},n,Number(a))):Object(v.a)(Object(v.a)({},f),{},Object(E.a)({},n,a)))},getProducts:r,show:o,handleClose:function(){return l(!1)},saveModal:y})]}),Object(x.jsxs)("table",{className:"table table-sm  table-hover mt-3 mx-2",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Nombre"}),Object(x.jsx)("th",{children:"Tipo"}),Object(x.jsx)("th",{className:"text-center",children:"Precio"}),Object(x.jsx)("th",{className:"text-center",children:"Entrada"}),Object(x.jsx)("th",{children:"Opciones"})]})}),Object(x.jsx)("tbody",{children:n.map((function(e,t){return Object(x.jsx)(M,{product:e,deleteProducts:C,handleShow:b,updateProducts:g},t)}))})]})]})},J=function(e){var t=function(){var t=Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("token"),t.next=3,y(n,"users",e.values);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:return t.next=4,e.getUsers();case 4:e.handleClose(),e.setValues(e.initialValues);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsxs)(I.a,{show:e.show,onHide:e.handleClose,animation:!1,children:[Object(x.jsx)(I.a.Header,{children:Object(x.jsx)(I.a.Title,{children:e.values._id?"Editar usuario":"Nuevo usuario"})}),Object(x.jsx)(I.a.Body,{className:"px-3 py-4",children:Object(x.jsxs)(R.a,{children:[Object(x.jsxs)(R.a.Group,{className:"mb-3 d-inline-flex align-items-center w-100",children:[Object(x.jsx)(R.a.Label,{className:"mx-1 mb-1",children:"Email: "}),Object(x.jsx)(R.a.Control,{className:"mx-1",type:"email",name:"email",value:e.values.email,onChange:e.handleChange})]}),Object(x.jsxs)(R.a.Group,{className:"mb-3 d-inline-flex align-items-center w-100",children:[Object(x.jsx)(R.a.Label,{className:"mx-1 mb-1",children:"Contrase\xf1a: "}),Object(x.jsx)(R.a.Control,{className:"mx-1",type:"password",name:"password",value:e.values.password,onChange:e.handleChange})]}),Object(x.jsxs)(R.a.Group,{className:"mb-3 d-inline-flex align-items-center w-100",children:[Object(x.jsx)(R.a.Label,{className:"mx-1 mb-1",children:"Administrador: "}),Object(x.jsxs)(R.a.Control,{as:"select",name:"roles",className:"mx-1",onChange:e.handleChange,children:[Object(x.jsx)("option",{value:"false",children:"False"}),Object(x.jsx)("option",{value:"true",children:"True"})]})]})]})}),Object(x.jsxs)(I.a.Footer,{children:[Object(x.jsx)("button",{className:"btn btn-secondary",onClick:function(){e.handleClose(),e.setValues(e.initialValues)},children:"Descartar"}),e.values._id?Object(x.jsx)("button",{className:"btn btn-danger",onClick:function(){return n(e.saveModal(e.values))},children:"Modificar"}):Object(x.jsx)("button",{className:"btn btn-danger",onClick:function(){return n(t())},children:"Crear"})]})]})},K=function(){var e=c.a.useState([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,N(t,"users");case 4:n=e.sent,a(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();c.a.useEffect((function(){r()}),[]);var s=c.a.useState(!1),i=Object(j.a)(s,2),o=i[0],l=i[1],b=function(){return l(!0)},m={email:"",password:"",roles:{admin:!1}},p=c.a.useState(m),h=Object(j.a)(p,2),f=h[0],O=h[1],g=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("token"),e.next=4,w(n,"users",t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=localStorage.getItem("token"),e.next=4,k(n,"users",t);case 4:return e.next=6,r();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{children:Object(x.jsxs)("section",{className:"container-fluid p-3 w-100 col",children:[Object(x.jsx)("h3",{className:"w-100 text-center",children:"Lista de usuarios"}),Object(x.jsxs)("div",{className:"d-flex w-100 justify-content-end",children:[Object(x.jsx)("button",{className:"btn btn-danger",onClick:b,children:"Agregar usuario"}),Object(x.jsx)(J,{getUsers:r,initialValues:m,values:f,setValues:O,handleChange:function(e){var t=e.target,n=t.name,a=t.value;O("roles"===n&&"true"===a?Object(v.a)(Object(v.a)({},f),{},Object(E.a)({},n,{admin:!0})):Object(v.a)(Object(v.a)({},f),{},Object(E.a)({},n,a)))},show:o,handleClose:function(){return l(!1)},saveModal:g})]}),Object(x.jsxs)("table",{className:"table table-sm table-hover w-100 mt-3 mx-2",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Id"}),Object(x.jsx)("th",{children:"Email"}),Object(x.jsx)("th",{children:"Admin"}),Object(x.jsx)("th",{children:"Opciones"})]})}),Object(x.jsx)("tbody",{children:n.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e._id}),Object(x.jsx)("td",{children:e.email}),Object(x.jsx)("td",{className:"ps-2",children:!0===e.roles.admin?"true":"false"}),Object(x.jsx)("td",{className:"btn ms-2",onClick:function(){return y(e)},children:"\ud83d\uddd1"}),Object(x.jsx)("td",{className:"btn ms-1",onClick:function(){return t=e,b(),void O(t);var t},children:"\u270f"})]},t)}))})]})]})})},X=function(){var e=Object(o.g)(),t=e.path,n=e.url;return Object(x.jsxs)("div",{children:[Object(x.jsxs)("nav",{className:"navbar-expand-md justify-content-between navbar-light bg-danger d-flex",children:[Object(x.jsx)("img",{className:"me-auto ms-lg-2 mt-lg-2 ms-md-1 mt-md-1",src:b,alt:"burger",width:"40",height:"34"}),Object(x.jsxs)("ul",{className:"nav nav-tabs justify-content-end p-0.5",children:[Object(x.jsx)("li",{className:"nav-item p-lg-1",children:Object(x.jsx)(i.b,{to:"".concat(n,"/usuarios"),className:"nav-link","aria-current":"page",children:"Administrar usuarios"})}),Object(x.jsx)("li",{className:"nav-item p-lg-1",children:Object(x.jsx)(i.b,{to:"".concat(n,"/productos"),className:"nav-link",children:"Administrar productos"})}),Object(x.jsx)("li",{className:"nav-item p-lg-1",children:Object(x.jsx)(i.b,{exact:!0,to:"/",className:"nav-link",onClick:function(){return localStorage.removeItem("token")},children:"Salir"})})]})]}),Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{exact:!0,path:t,children:Object(x.jsx)(K,{})}),Object(x.jsx)(o.a,{exact:!0,path:"".concat(t,"/usuarios"),children:Object(x.jsx)(K,{})}),Object(x.jsx)(o.a,{exact:!0,path:"".concat(t,"/productos"),children:Object(x.jsx)(U,{})})]})]})};var Y=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(i.a,{children:Object(x.jsxs)(o.c,{children:[Object(x.jsx)(o.a,{exact:!0,path:"/",component:f}),Object(x.jsx)(o.a,{path:"/pedidos",component:G}),Object(x.jsx)(o.a,{path:"/admin",component:X})]})})})};s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(Y,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.65305cd9.chunk.js.map